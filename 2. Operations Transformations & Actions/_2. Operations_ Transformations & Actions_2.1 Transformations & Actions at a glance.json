{"paragraphs":[{"text":"%md <img src='https://global-uploads.webflow.com/5ad0acc69f356a98471287a3/5ae073d500595f83d49e713a_logo_Comsysto-Reply_color.svg' style='width:400px'>","user":"anonymous","dateUpdated":"2019-04-24T16:40:16+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<img src='https://global-uploads.webflow.com/5ad0acc69f356a98471287a3/5ae073d500595f83d49e713a_logo_Comsysto-Reply_color.svg' style='width:400px'>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116807603_-980463007","id":"20190424-164007_839889660","dateCreated":"2019-04-24T16:40:07+0200","dateStarted":"2019-04-24T16:40:16+0200","dateFinished":"2019-04-24T16:40:16+0200","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:15372"},{"text":"%md\n# 2.1 Transformations & Actions at a glance","user":"anonymous","dateUpdated":"2019-04-24T16:40:22+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>2.1 Transformations &amp; Actions at a glance</h1>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116816920_387037589","id":"20190424-164016_112606421","dateCreated":"2019-04-24T16:40:16+0200","dateStarted":"2019-04-24T16:40:22+0200","dateFinished":"2019-04-24T16:40:22+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15373"},{"text":"%md\n***2.1.1 Transformations & Actions***\n  \n***2.1.2 Difference between Transformations & Actions***\n  \n***2.1.3 Command chain***\n  \n***2.1.4 Shuffle operations***\n  \n***2.1.5 Spark Web UI***","user":"anonymous","dateUpdated":"2019-04-24T16:40:27+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p><strong><em>2.1.1 Transformations &amp; Actions</em></strong></p>\n<p><strong><em>2.1.2 Difference between Transformations &amp; Actions</em></strong></p>\n<p><strong><em>2.1.3 Command chain</em></strong></p>\n<p><strong><em>2.1.4 Shuffle operations</em></strong></p>\n<p><strong><em>2.1.5 Spark Web UI</em></strong></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116822327_-1907299783","id":"20190424-164022_2031532486","dateCreated":"2019-04-24T16:40:22+0200","dateStarted":"2019-04-24T16:40:27+0200","dateFinished":"2019-04-24T16:40:27+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15374"},{"text":"%md\n## 2.1.1 Transformations & Actions\n\n- Nomenclature: `Operations` (umbrella term) subsumes `Transformations` and `Actions` \n\n- The basic concepts to work on distributed datasets with Spark are ***actions*** and ***transformations***.\n\n- Datasets of any type are immutable. Therefore transformations result in new datasets no matter on which dataset type the transformation was applied on.\n\n- Transformations can be distinguished between ***typed*** and ***untyped*** transformations.\n\n     - Typed transformations lead to new Datasets.\n\n     - Untyped transformations lead to new DataFrames.\n\n- Actions trigger transformations in an execution chain and return their action specific result to the driver.\n\n- ***Lazy execution:*** Transformations can only be triggered by an action and aren´t performed beforehand.\n\n- Caching should be used, in order to reuse intermediate transformation results (if enough memory available).","user":"anonymous","dateUpdated":"2019-04-24T16:40:33+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>2.1.1 Transformations &amp; Actions</h2>\n<ul>\n  <li>\n  <p>Nomenclature: <code>Operations</code> (umbrella term) subsumes <code>Transformations</code> and <code>Actions</code></p></li>\n  <li>\n  <p>The basic concepts to work on distributed datasets with Spark are <strong><em>actions</em></strong> and <strong><em>transformations</em></strong>.</p></li>\n  <li>\n  <p>Datasets of any type are immutable. Therefore transformations result in new datasets no matter on which dataset type the transformation was applied on.</p></li>\n  <li>\n    <p>Transformations can be distinguished between <strong><em>typed</em></strong> and <strong><em>untyped</em></strong> transformations.</p>\n    <ul>\n      <li>\n      <p>Typed transformations lead to new Datasets.</p></li>\n      <li>\n      <p>Untyped transformations lead to new DataFrames.</p></li>\n    </ul>\n  </li>\n  <li>\n  <p>Actions trigger transformations in an execution chain and return their action specific result to the driver.</p></li>\n  <li>\n  <p><strong><em>Lazy execution:</em></strong> Transformations can only be triggered by an action and aren´t performed beforehand.</p></li>\n  <li>\n  <p>Caching should be used, in order to reuse intermediate transformation results (if enough memory available).</p></li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116827352_630372409","id":"20190424-164027_1601801664","dateCreated":"2019-04-24T16:40:27+0200","dateStarted":"2019-04-24T16:40:33+0200","dateFinished":"2019-04-24T16:40:33+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15375"},{"text":"%md\n## 2.1.2 Difference between transformations and actions\n<img src=\"http://www.tothenew.com/blog/wp-content/uploads/2015/02/Spark.jpg\">","user":"anonymous","dateUpdated":"2019-04-24T16:40:45+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>2.1.2 Difference between transformations and actions</h2>\n<img src=\"http://www.tothenew.com/blog/wp-content/uploads/2015/02/Spark.jpg\">\n</div>"}]},"apps":[],"jobName":"paragraph_1556116833592_-117978851","id":"20190424-164033_1341543603","dateCreated":"2019-04-24T16:40:33+0200","dateStarted":"2019-04-24T16:40:45+0200","dateFinished":"2019-04-24T16:40:45+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15376"},{"text":"%md\n## 2.1.3 Command chain\n<img src='https://s3.eu-central-1.amazonaws.com/cs-spark-training/Spark_CommandChain.png' style='width:800px'>","user":"anonymous","dateUpdated":"2019-04-24T16:40:57+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>2.1.3 Command chain</h2>\n<img src='https://s3.eu-central-1.amazonaws.com/cs-spark-training/Spark_CommandChain.png' style='width:800px'>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116840872_95191815","id":"20190424-164040_1754316057","dateCreated":"2019-04-24T16:40:40+0200","dateStarted":"2019-04-24T16:40:57+0200","dateFinished":"2019-04-24T16:40:57+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15377"},{"text":"%md\n### 2.1.4 Shuffle operations\n\nFor certain operations data has to be re-distributed accross worker nodes. Typically this involves transfering data over the network which makes shuffle a complex and costly operation.\n\nAccording to the [Spark Programming Guide](https://spark.apache.org/docs/latest/rdd-programming-guide.html#shuffle-operations) the following operations can cause a shuffle:\n\n*   `repartition`\n*   `coalesce`\n*   all `*ByKey` operations except for counting\n*   `join` operations\n\nExample `groupByKey` for a shuffle operation: \n\n<img src='https://s3.eu-central-1.amazonaws.com/cs-spark-training/spark_shuffle_group_by_key.png'>\n\n***Use case for `groupByKey`***\n\n`groupByKey` would be used if we need to know the full list of values for a key, in order to get an accurate result. For example, the mean of the values.\n\n***Note for `groupByKey`:***\n\nDefined for PairRDDs (key-value pairs), i.e. `RDD[(K, V)]`. Groups all values belonging to a key of type `K` into a single `Iterable[V]`. This may require copying most of the data over the network to enable Spark to put the values into a single `Iterable` and makes `groupByKey` a very expensive operation.\n\nIf the grouping is done in order to aggregate the data `aggregateByKey` and `reduceByKey` are better alternatives.","user":"anonymous","dateUpdated":"2019-04-24T16:41:08+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>2.1.4 Shuffle operations</h3>\n<p>For certain operations data has to be re-distributed accross worker nodes. Typically this involves transfering data over the network which makes shuffle a complex and costly operation.</p>\n<p>According to the <a href=\"https://spark.apache.org/docs/latest/rdd-programming-guide.html#shuffle-operations\">Spark Programming Guide</a> the following operations can cause a shuffle:</p>\n<ul>\n  <li><code>repartition</code></li>\n  <li><code>coalesce</code></li>\n  <li>all <code>*ByKey</code> operations except for counting</li>\n  <li><code>join</code> operations</li>\n</ul>\n<p>Example <code>groupByKey</code> for a shuffle operation: </p>\n<img src='https://s3.eu-central-1.amazonaws.com/cs-spark-training/spark_shuffle_group_by_key.png'>\n<p><strong><em>Use case for <code>groupByKey</code></em></strong></p>\n<p><code>groupByKey</code> would be used if we need to know the full list of values for a key, in order to get an accurate result. For example, the mean of the values.</p>\n<p><strong><em>Note for <code>groupByKey</code>:</em></strong></p>\n<p>Defined for PairRDDs (key-value pairs), i.e. <code>RDD[(K, V)]</code>. Groups all values belonging to a key of type <code>K</code> into a single <code>Iterable[V]</code>. This may require copying most of the data over the network to enable Spark to put the values into a single <code>Iterable</code> and makes <code>groupByKey</code> a very expensive operation.</p>\n<p>If the grouping is done in order to aggregate the data <code>aggregateByKey</code> and <code>reduceByKey</code> are better alternatives.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116852784_1488493110","id":"20190424-164052_1347185366","dateCreated":"2019-04-24T16:40:52+0200","dateStarted":"2019-04-24T16:41:08+0200","dateFinished":"2019-04-24T16:41:08+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15378"},{"text":"%md\n### 2.1.5 Spark Web UI\n\n*   Event Timeline\n\n\n*   Directed Acyclic Graph (DAG)\n\n\n*   Tasks, Stages, Jobs","user":"anonymous","dateUpdated":"2019-04-24T16:41:20+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>2.1.5 Spark Web UI</h3>\n<ul>\n  <li>\n  <p>Event Timeline</p></li>\n  <li>\n  <p>Directed Acyclic Graph (DAG)</p></li>\n  <li>\n  <p>Tasks, Stages, Jobs</p></li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116868575_-395843697","id":"20190424-164108_630331750","dateCreated":"2019-04-24T16:41:08+0200","dateStarted":"2019-04-24T16:41:20+0200","dateFinished":"2019-04-24T16:41:20+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15379"},{"text":"%md <img src='https://databricks.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-19-at-2.04.05-PM-1024x879.png' style='width:800px'>","user":"anonymous","dateUpdated":"2019-04-24T16:41:44+0200","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<img src='https://databricks.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-19-at-2.04.05-PM-1024x879.png' style='width:800px'>\n</div>"}]},"apps":[],"jobName":"paragraph_1556116880944_1003971107","id":"20190424-164120_1078153622","dateCreated":"2019-04-24T16:41:20+0200","dateStarted":"2019-04-24T16:41:44+0200","dateFinished":"2019-04-24T16:41:44+0200","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:15380"}],"name":"/2. Operations: Transformations & Actions/2.1 Transformations & Actions at a glance","id":"2E8E18R98","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}